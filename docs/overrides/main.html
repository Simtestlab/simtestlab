{% extends "base.html" %}

{% block htmltitle %}
{{ super() }}
<script>
  // Authentication credentials injected during build
  window.MKDOCS_AUTH_USERNAME = "{{ config.extra.auth_username | default('admin') }}";
  window.MKDOCS_AUTH_PASSWORD = "{{ config.extra.auth_password | default('password') }}";
</script>
{% endblock %}

{% block site_nav %}
{{ super() }}
<!-- Logout button for authenticated users -->
<div id="auth-status" style="display: none; margin-top: 1rem; padding: 0.5rem; text-align: center;">
  <button onclick="logout()" style="
    background: var(--md-primary-fg-color);
    color: var(--md-primary-bg-color);
    border: none;
    padding: 0.5rem 1rem;
    border-radius: 4px;
    cursor: pointer;
    font-size: 0.9rem;
    font-weight: 500;
    transition: all 0.3s ease;
  " onmouseover="this.style.background='var(--md-primary-fg-color--dark)'" onmouseout="this.style.background='var(--md-primary-fg-color)'">
    ðŸšª Logout
  </button>
</div>
<script>
  // Show logout button when authenticated
  document.addEventListener('DOMContentLoaded', function() {
    const authToken = localStorage.getItem('mkdocs_auth_token');
    const authExpiry = localStorage.getItem('mkdocs_auth_expiry');
    const authStatus = document.getElementById('auth-status');

    if (authToken && authExpiry) {
      const now = new Date().getTime();
      if (now < parseInt(authExpiry)) {
        authStatus.style.display = 'block';
      }
    }
  });
</script>
{% endblock %}